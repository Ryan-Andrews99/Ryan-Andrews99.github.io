<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
     <link href="https://unpkg.com/prismjs@1.20.0/themes/prism-okaidia.css" rel="stylesheet">
      <link rel="stylesheet" href="../../assets/style.css">
    <title>Functional Programming with JS/TS!</title>
  </head>
  <body>
  <!-- _includes/partials/_navigation.njk-->
<nav>
    <a href="/">Home</a>
    <a href="/about">About</a>
    <a href="/blog">Blog</a>
    <a href="/projects">Projects</a>
    <a href="/archive">Archive</a>
    <a href="/reviews">Reviews</a>
    <a href="/recipes">Recipes</a>
</nav>

  <main>
      <h1>Functional Programming with JS/TS!</h1> 
    <h3>Higher Order Functions:</h3>
<p>In JavaScript, functions are considered to be &quot;first class citizens&quot; values in the language. This means they can be treated like any other value such as a string or number. Here is an example:</p>
<pre class="language-ts"><code class="language-ts"><span class="token keyword">const</span> <span class="token function-variable function">triple</span> <span class="token operator">=</span> <span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">=></span> x<span class="token operator">*</span><span class="token number">3</span>

<span class="token keyword">const</span> multiplyByThree <span class="token operator">=</span> <span class="token function">triple</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">multiplByThree</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//Returns 90</span>
</code></pre>
<p>Therefore, as we see above this allows functions to be assigned to variables, but allso allows them to be passed as arguments to other functions or returned as values from functions. These functions that either take functions as thier argument or return values are called <strong>Higher Order Functions</strong>.</p>
<p>Higher order functions are good for compisition, ie they allow us to take lots of smaller functions, and pass them into larger functions, to create <em>readable, functional code</em>.</p>
<p>The most common Higher Order Functions in JavaScript are the <code>Array.prototype.X</code> functions, which include: <code>Array.prototype.map</code>, <code>Array.prototype.filter</code>, and <code>Array.prototype.reduce</code>. These functions take a function as an argument and apply it to each element of an array to produce a new array.</p>
<p>Let's look at an example of a higher order function, with <code>Array.filter()</code></p>
<pre class="language-ts"><code class="language-ts"><span class="token keyword">const</span> arr <span class="token operator">:</span>
  <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> 
  pet<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">}</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> 
  <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">"Ryan"</span><span class="token punctuation">,</span> 
  pet<span class="token operator">:</span> <span class="token string">"cat"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">"Frank"</span><span class="token punctuation">,</span> 
  pet<span class="token operator">:</span> <span class="token string">"Dog"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">"Liam"</span><span class="token punctuation">,</span> 
  pet<span class="token operator">:</span> <span class="token string">"Fish"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>


<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
  arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> person<span class="token punctuation">.</span>pet <span class="token operator">==</span> <span class="token string">"Dog"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">//returns [{"name": "Frank", "pet": "Dog"}] only</span></code></pre>
<p>Let's see how intelli-sense describes our <code>Array.filter</code> function:</p>
<blockquote>
<p>A function that accepts up to three arguments. The filter method calls the predicate function one time for each element in the array.
Returns the elements of an array that meet the condition specified in a <strong>callback function.</strong></p>
</blockquote>
<p>The <code>Array.filter</code> function takes our <strong>call back function</strong>, which we have basically above as:</p>
<pre class="language-ts"><code class="language-ts"><span class="token keyword">function</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">return</span> person<span class="token punctuation">.</span>pet <span class="token operator">==</span> <span class="token string">"Dog"</span>
<span class="token punctuation">}</span></code></pre>
<p>and it calls this for each element in the array, returning all entires which return true, and in our case true is where <code>person.pet == &quot;Dog&quot;</code>.</p>
<p>This lends well to composability, as we can even assign our callback function to a variable:</p>
<pre class="language-ts"><code class="language-ts"><span class="token keyword">const</span> <span class="token function-variable function">isDog</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>person <span class="token operator">:</span> <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> pet<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> person<span class="token punctuation">.</span>pet <span class="token operator">==</span> <span class="token string">"Dog"</span>
  <span class="token punctuation">}</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
  arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>isDog<span class="token punctuation">)</span>
  <span class="token punctuation">)</span>
  <span class="token comment">//returns [{"name": "Frank", "pet": "Dog"}] only</span></code></pre>
<p>Now our <code>isDog</code> function is decoupled from our filtering operation, and we can reuse this function in other places.</p>
<p>We can also rewrite our <code>isDog</code> funciton in a more modern arrow syntax way:</p>
<pre class="language-ts"><code class="language-ts"><span class="token keyword">const</span> isDog <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>person <span class="token operator">:</span> <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> pet<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> person<span class="token punctuation">.</span>pet <span class="token operator">==</span> <span class="token string">"Dog"</span><span class="token punctuation">)</span></code></pre>
<h3>Array.map()</h3>
<p>Map is another Higher Order Function in JS, that allows us to apply a transormation function to each element in an array, reurning a new array with the transformed elements.</p>
<p>Let's see how intelli-sense describes <code>Array.map</code>:</p>
<blockquote>
<p>A function that accepts up to three arguments. The map method calls the callbackfn function one time for each element in the array.
Calls a defined callback function on each element of an array, and returns an array that contains the results.</p>
</blockquote>
<p>The syntax for using Array.map() is as follows:</p>
<pre class="language-ts"><code class="language-ts">array<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>currentValue<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array<span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token comment">// return transformed value })</span></code></pre>
<p>The <code>function</code> parameter is the <strong>callback</strong> transformation function that will be called on each element in the <code>array</code>. It takes three parameters:</p>
<ul>
<li><code>currentValue</code>: the current element being processed</li>
<li><code>index</code>: the index of the current element being processed</li>
<li><code>array</code>: the array that <code>map()</code> was called upon</li>
</ul>
<p>The <code>function</code> should return the transformed value of the <code>currentValue</code>, which will be added to the new array. So whereas <code>Array.filter</code> expected a boolean which indcates if a value is included in our filtered array, map returns a <strong>transformed value</strong> from our original array.</p>
<p>Let's see an example:</p>
<pre class="language-ts"><code class="language-ts"><span class="token keyword">const</span> arr <span class="token operator">:</span>
  <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> 
  pet<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">}</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> 
  <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">"Ryan"</span><span class="token punctuation">,</span> 
  pet<span class="token operator">:</span> <span class="token string">"cat"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">"Frank"</span><span class="token punctuation">,</span> 
  pet<span class="token operator">:</span> <span class="token string">"Dog"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">"Liam"</span><span class="token punctuation">,</span> 
  pet<span class="token operator">:</span> <span class="token string">"Fish"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>

<span class="token keyword">const</span> returnNames <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>person <span class="token operator">:</span> <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> pet<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> person<span class="token punctuation">.</span>name<span class="token punctuation">)</span> 

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
  arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>returnNames<span class="token punctuation">)</span>
  <span class="token punctuation">)</span> <span class="token comment">//returns ["Ryan", "Frank", "Liam"]</span></code></pre>
<h3>Array.reduce()</h3>
<p><code>Array.reduce()</code> is a built-in JavaScript method that allows you to reduce an array of values down to a single value. It does this by iterating through the array and applying a function that you define to each element of the array, accumulating a single value as it goes.</p>
<p>The syntax for <code>Array.reduce()</code> is:</p>
<pre class="language-ts"><code class="language-ts">array<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>callback<span class="token punctuation">[</span>accumulator<span class="token punctuation">,</span> initialValue<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>
<p>The <code>callback</code> function takes two arguments: an <code>accumulator</code> and the current element being iterated over. The <code>initialValue</code> argument is optional and provides an initial value for the accumulator.</p>
<p>The <code>callback</code> function should return the updated accumulator after processing the current element. The <code>reduce()</code> method then uses this updated accumulator as the input for the next iteration.</p>
<p>Let's see what intelli-sense says abour <code>Array.reduce</code>:</p>
<ul>
<li><em>@param</em> <code>callbackfn</code> — A function that accepts up to four arguments. The reduce method calls the callbackfn function one time for each element in the array.</li>
<li><em>@param</em> <code>initialValue</code> — If initialValue is specified, it is used as the initial value to start the accumulation. The first call to the callbackfn function provides this value as an argument instead of an array value.</li>
</ul>
<p>For example:</p>
<pre class="language-ts"><code class="language-ts"><span class="token keyword">const</span> arr1<span class="token operator">:</span> <span class="token punctuation">{</span>amount<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
<span class="token punctuation">{</span>amount<span class="token operator">:</span> <span class="token number">250</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span>amount<span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span>amount<span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span>amount<span class="token operator">:</span> <span class="token number">900</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span>amount<span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>

arr1<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>currentTotal<span class="token punctuation">,</span> currentValue<span class="token punctuation">)</span> <span class="token operator">=></span> currentTotal <span class="token operator">+</span> currentValue<span class="token punctuation">.</span>amount<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// returns 1975</span></code></pre>
<p>Here we have taken our <code>currentTotal</code> variable intial value to <code>0</code> (this is our final argument passed to our reduce function), and we have added each <code>currentValue.amount</code> to our <code>currentTotal</code>, which we return once we have applied our <strong>callback function</strong> to all elements in our array.</p>
<h3>Advanced Array.reduce()</h3>
<p>The beauty of <code>Array.reduce()</code> is we can combine it with other functions, to modify arrays in all sorts of ways.</p>
<p>For example let's start with some sample <em>tab-seperated</em> data about flowers:</p>
<pre class="language-ts"><code class="language-ts"><span class="token keyword">const</span> data<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> 
<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Sepal length	Sepal width	Petal length	Petal width	Species
5.1	3.5	1.4	0.2	I. setosa
4.9	3.0	1.4	0.2	I. setosa
4.7	3.2	1.3	0.2	I. setosa
4.6	3.1	1.5	0.2	I. setosa
5.0	3.6	1.4	0.2	I. setosa</span><span class="token template-punctuation string">`</span></span></code></pre>
<p>Let's try and convert this data into something more readable using <code>array.reduce()</code></p>
<pre class="language-ts"><code class="language-ts">
<span class="token keyword">const</span> data<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> 
<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Sepal length	Sepal width	Petal length	Petal width	Species
5.1	3.5	1.4	0.2	I. setosa
4.9	3.0	1.4	0.2	I. setosa
4.7	3.2	1.3	0.2	I. setosa
4.6	3.1	1.5	0.2	I. setosa
5.0	3.6	1.4	0.2	I. setosa</span><span class="token template-punctuation string">`</span></span>

<span class="token keyword">interface</span> <span class="token class-name">flowerDataType</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>k<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">objFromArray</span> <span class="token operator">=</span> <span class="token punctuation">(</span>object<span class="token operator">:</span>flowerDataType <span class="token punctuation">,</span> array<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token operator">=></span> <span class="token punctuation">{</span>
   array<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>item <span class="token operator">=></span> object<span class="token punctuation">[</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>


<span class="token keyword">const</span> flowerData <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>line <span class="token operator">=></span> line<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"\t"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>flowers<span class="token punctuation">,</span> line<span class="token punctuation">,</span> currentIndex<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>currentIndex <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token function">objFromArray</span><span class="token punctuation">(</span>flowers<span class="token punctuation">,</span> line<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  flowers<span class="token punctuation">[</span><span class="token string">"Sepal length"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>line<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  flowers<span class="token punctuation">[</span><span class="token string">"Sepal width"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>line<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  flowers<span class="token punctuation">[</span><span class="token string">"Petal length"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>line<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  flowers<span class="token punctuation">[</span><span class="token string">"Petal width"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>line<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  flowers<span class="token punctuation">[</span><span class="token string">"Species"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>line<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> 
 
  <span class="token keyword">return</span> flowers
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword">as</span> flowerDataType<span class="token punctuation">)</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>flowerData<span class="token punctuation">)</span>
</code></pre>
<p>It works in the following way:</p>
<ul>
<li>
<p>The string <code>data</code> is then split into an array of strings using the newline character <code>\n</code> as a separator, and each of these strings is split again into an array of values using the tab character <code>\t</code> as a separator.</p>
</li>
<li>
<p>Finally, the <code>reduce</code> function is used to iterate over the resulting array and populate the <code>flowerData</code> object with the data from each line. The resulting object contains five keys: <code>&quot;Sepal length&quot;</code>, <code>&quot;Sepal width&quot;</code>, <code>&quot;Petal length&quot;</code>, <code>&quot;Petal width&quot;</code>, and <code>&quot;Species&quot;</code>, each containing an array of values corresponding to the data from each line of the input string. The resulting object is then printed to the console using <code>console.log()</code>.</p>
</li>
<li>
<p>Our <code>.reduce</code> function takes the arguments <code>flowers, line, currentIndex</code>:</p>
<ul>
<li><code>flowers</code> is our accumulator object, of type <code>flowerData</code></li>
<li><code>line</code> is our current iteratable array, which will be the array from <code>.split</code> functions</li>
<li><code>currentIndex</code> is our... currentIndex</li>
</ul>
</li>
</ul>
<p>here this returns our output:</p>
<pre class="language-JSON"><code class="language-JSON">
{ "Sepal length": [ "5.1", "4.9", "4.7", "4.6", "5.0" ], "Sepal width": [ "3.5", "3.0", "3.2", "3.1", "3.6" ], "Petal length": [ "1.4", "1.4", "1.3", "1.5", "1.4" ], "Petal width": [ "0.2", "0.2", "0.2", "0.2", "0.2" ], "Species": [ "I. setosa", "I. setosa", "I. setosa", "I. setosa", "I. setosa" ] }</code></pre>
<p>Here you can see we have used <code>.reduce</code> with <code>.map</code> to create an advanced functionality with arrays.</p>

    </main>
     <footer>
    <a>Twitter<a/>
    <a href="https://github.com/Ryan-Andrews99">Github<a/>
    <a>Instagram<a/>
</footer>

  </body>
</html>
